{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Field Registry v1.1",
  "description": "Schema for the v1.1 field registry with display hints and dependencies.",
  "type": "array",
  "items": {
    "type": "object",
    "properties": {
      "id": { "type": "string" },
      "owner": { "type": "string", "enum": ["be", "fe", "hd"] },
      "exposure": { "type": "string", "enum": ["api", "ui", "hd"] },
      "status": { "type": "string", "enum": ["active", "parked", "deprecated"] },
      "writable": { "type": "boolean" },
      "read_path": { "type": "string" },
      "writer": { "type": "string" },
      "enum": { "type": "array", "items": { "type": "string" } },
      "version": { "type": "string" },
      "notes": { "type": "string" },
      "display": {
        "type": "object",
        "properties": {
          "label": { "type": "string" },
          "control": { "type": "string", "enum": ["text", "date", "time", "select", "multi_select"] },
          "group": { "type": "string", "enum": ["profile", "prefs"] },
          "order": { "type": "number" },
          "placeholder": { "type": "string" }
        },
        "required": ["label", "control", "group", "order"]
      },
      "deps": {
        "type": "array",
        "items": { "type": "string", "pattern": "^[A-Z][A-Z0-9_]*$" }
      }
    },
    "required": ["id", "owner", "exposure", "status", "writable", "read_path", "writer", "display", "deps"]
  }
}
