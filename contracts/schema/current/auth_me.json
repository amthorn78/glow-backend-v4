{
  "schema_version": "1.0.0",
  "title": "Auth Me Response Schema",
  "description": "Schema for /api/auth/me endpoint response",
  "type": "object",
  "required": ["contract_version", "issued_at", "ok", "user"],
  "properties": {
    "contract_version": {
      "type": "integer",
      "description": "API contract version"
    },
    "issued_at": {
      "type": "string",
      "format": "date-time",
      "description": "ISO timestamp when response was issued"
    },
    "ok": {
      "type": "boolean",
      "description": "Success indicator"
    },
    "user": {
      "type": "object",
      "required": ["id", "email", "first_name", "last_name", "status", "is_admin", "updated_at"],
      "properties": {
        "id": {
          "type": "integer",
          "description": "User ID"
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "User email address"
        },
        "first_name": {
          "type": "string",
          "description": "User first name"
        },
        "last_name": {
          "type": "string",
          "description": "User last name"
        },
        "bio": {
          "type": ["string", "null"],
          "description": "User biography"
        },
        "status": {
          "type": "string",
          "enum": ["approved", "pending", "suspended"],
          "description": "User account status"
        },
        "is_admin": {
          "type": "boolean",
          "description": "Admin privileges flag"
        },
        "updated_at": {
          "type": "string",
          "format": "date-time",
          "description": "Last update timestamp"
        },
        "birth_data": {
          "type": ["object", "null"],
          "properties": {
            "date": {
              "type": "string",
              "format": "date",
              "description": "Birth date in YYYY-MM-DD format"
            },
            "time": {
              "type": ["string", "null"],
              "pattern": "^([01]?[0-9]|2[0-3]):[0-5][0-9]$",
              "description": "Birth time in HH:MM format"
            },
            "location": {
              "type": "string",
              "description": "Birth location as human-readable string"
            },
            "latitude": {
              "type": "number",
              "description": "Birth location latitude"
            },
            "longitude": {
              "type": "number",
              "description": "Birth location longitude"
            },
            "timezone": {
              "type": "string",
              "description": "Birth location timezone"
            }
          },
          "required": ["date", "location", "latitude", "longitude", "timezone"]
        },
        "profile": {
          "type": ["object", "null"],
          "properties": {
            "avatar_url": {
              "type": ["string", "null"],
              "description": "Profile avatar URL"
            },
            "bio": {
              "type": ["string", "null"],
              "description": "Profile biography"
            },
            "display_name": {
              "type": "string",
              "description": "Display name"
            },
            "profile_completion": {
              "type": "integer",
              "minimum": 0,
              "maximum": 100,
              "description": "Profile completion percentage"
            }
          },
          "required": ["display_name", "profile_completion"]
        },
        "session_meta": {
          "type": "object",
          "properties": {
            "session_id": {
              "type": "string",
              "description": "Session identifier"
            },
            "last_seen": {
              "type": "string",
              "format": "date-time",
              "description": "Last activity timestamp"
            },
            "idle_expires_at": {
              "type": "string",
              "format": "date-time",
              "description": "Idle expiration timestamp"
            },
            "absolute_expires_at": {
              "type": "string",
              "format": "date-time",
              "description": "Absolute expiration timestamp"
            },
            "renewed": {
              "type": "boolean",
              "description": "Session renewal flag"
            }
          },
          "required": ["session_id", "last_seen", "idle_expires_at", "absolute_expires_at", "renewed"]
        }
      }
    }
  }
}

